{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{useLocation}from\"react-router-dom\";import SensorChart from\"../components/SensorChart\";import CardSensor from\"../components/CardSensor\";import axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function DashBoard(){const location=useLocation();const[data,setdata]=useState([]);const[sensorData,setSensorData]=useState([]);const[selectedSensor,setSelectedSensor]=useState(null);const[chartData,setChartData]=useState([{value:1}]);let sensored=[];sensored.push(sensorData);console.log(location);sensored.map(s=>{console.log(s);});useEffect(()=>{const fetchData=async()=>{try{const response=await axios.get(\"http://localhost:5000/api/v1/sensors/simulate\");setSensorData(response.data.data);}catch(error){console.error(\"Error fetching sensor data:\",error);}};fetchData();},[]);const handleCardClick=async sensorType=>{console.log(sensorType);setSelectedSensor(sensorType);setChartData([{value:sensorType,date:new Date()}]);};return/*#__PURE__*/_jsx(_Fragment,{children:location.state!=null?/*#__PURE__*/_jsxs(\"div\",{className:\"app\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"head-card\",children:\"Current Sensor Data\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"sensor-cards\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-sensor\",onClick:()=>handleCardClick(sensorData.pH),children:/*#__PURE__*/_jsx(CardSensor,{title:\"pH\",value:sensorData.pH})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-sensor\",onClick:()=>handleCardClick(sensorData.TSS),children:/*#__PURE__*/_jsx(CardSensor,{title:\"TSS\",value:sensorData.TSS})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-sensor\",onClick:()=>handleCardClick(sensorData.TDS),children:/*#__PURE__*/_jsx(CardSensor,{title:\"TDS\",value:sensorData.TDS})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-sensor\",onClick:()=>handleCardClick(sensorData.BOD),children:/*#__PURE__*/_jsx(CardSensor,{title:\"BOD\",value:sensorData.BOD})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-sensor\",onClick:()=>handleCardClick(sensorData.COD),children:/*#__PURE__*/_jsx(CardSensor,{title:\"COD\",value:sensorData.COD})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-sensor\",onClick:()=>handleCardClick(sensorData.pH),children:/*#__PURE__*/_jsx(CardSensor,{title:\"chloride\",value:sensorData.pH})})]}),selectedSensor&&/*#__PURE__*/_jsxs(\"div\",{className:\"chart-container\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[selectedSensor,\" Data Over Time\"]}),/*#__PURE__*/_jsx(SensorChart,{data:chartData,label:selectedSensor})]})]}):'404 Not Found'});}export default DashBoard;","map":{"version":3,"names":["React","useEffect","useState","useLocation","SensorChart","CardSensor","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","DashBoard","location","data","setdata","sensorData","setSensorData","selectedSensor","setSelectedSensor","chartData","setChartData","value","sensored","push","console","log","map","s","fetchData","response","get","error","handleCardClick","sensorType","date","Date","children","state","className","onClick","pH","title","TSS","TDS","BOD","COD","label"],"sources":["/Volumes/data/Projects/MERN/client/src/Pages/DashBoard.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport SensorChart from \"../components/SensorChart\";\nimport CardSensor from \"../components/CardSensor\";\nimport axios from \"axios\";\n\nfunction DashBoard() {\n  const location = useLocation();\n  const [data, setdata] = useState([]);\n  const [sensorData, setSensorData] = useState([]);\n  const [selectedSensor, setSelectedSensor] = useState(null);\n  const [chartData, setChartData] = useState([{ value: 1 }]);\n  let sensored = [];\n  sensored.push(sensorData);\n  console.log(location);\n  sensored.map((s) => {\n    console.log(s);\n  });\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await axios.get(\n          \"http://localhost:5000/api/v1/sensors/simulate\"\n        );\n        setSensorData(response.data.data);\n      } catch (error) {\n        console.error(\"Error fetching sensor data:\", error);\n      }\n    };\n\n    fetchData();\n  }, []);\n\n  const handleCardClick = async (sensorType) => {\n    console.log(sensorType);\n    setSelectedSensor(sensorType);\n    setChartData([\n      {\n        value: sensorType,\n        date: new Date(),\n      },\n    ]);\n    \n  };\n\n  \n  return (\n    <>\n      {location.state !=null ? (<div className=\"app\">\n\n<h1 className=\"head-card\" >Current Sensor Data</h1>\n<div className=\"sensor-cards\">\n \n  <div className=\"card-sensor\" onClick={() => handleCardClick(sensorData.pH)}>\n    <CardSensor title={\"pH\"} value={sensorData.pH} />\n  </div>\n  <div className=\"card-sensor\" onClick={() => handleCardClick(sensorData.TSS)}>\n    <CardSensor title={\"TSS\"} value={sensorData.TSS} />\n  </div>\n  <div className=\"card-sensor\" onClick={() => handleCardClick(sensorData.TDS)}>\n    <CardSensor title={\"TDS\"} value={sensorData.TDS} />\n  </div>\n  <div className=\"card-sensor\" onClick={() => handleCardClick(sensorData.BOD)}>\n    <CardSensor title={\"BOD\"} value={sensorData.BOD} />\n  </div>\n  <div className=\"card-sensor\" onClick={() => handleCardClick(sensorData.COD)}>\n    <CardSensor title={\"COD\"} value={sensorData.COD} />\n  </div>\n  <div className=\"card-sensor\" onClick={() => handleCardClick(sensorData.pH)}>\n    <CardSensor title={\"chloride\"} value={sensorData.pH} />\n  </div>\n</div>\n{selectedSensor && (\n  <div className=\"chart-container\">\n    <h2>{selectedSensor} Data Over Time</h2>\n    <SensorChart data={chartData} label={selectedSensor} />\n  </div>\n)}\n</div>):'404 Not Found'}\n      \n    </>\n  );\n}\n\nexport default DashBoard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}